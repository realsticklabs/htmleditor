<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Short HTML Editor (SHE)</title>
    <style>
        body {
            display: flex;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        #file-list {
            width: 20%;
            padding: 10px;
            border-right: 1px solid #ccc;
            overflow-y: auto;
        }
        #editor {
            width: 60%;
            padding: 10px;
            box-sizing: border-box;
        }
        #preview {
            width: 40%;
            padding: 10px;
            box-sizing: border-box;
            border-left: 1px solid #ccc;
            overflow-y: auto;
        }
        textarea {
            width: 100%;
            height: calc(100vh - 120px);
            border: none;
            font-family: monospace;
            font-size: 16px;
            resize: none;
        }
        button {
            margin-top: 10px;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
    </style>
</head>
<body>

<div id="file-list">
    <h3>Files</h3>
    <ul id="files"></ul>
    <button onclick="nameFile()">Name a File</button>
</div>

<div id="editor">
    <textarea id="html-code" placeholder="Write your code here..." oninput="updatePreview()"></textarea>
</div>

<div id="preview">
    <h3>Preview</h3>
    <iframe id="preview-frame" style="width: 100%; height: calc(100vh - 160px); border: none;"></iframe>
</div>

<script>
    const htmlCode = document.getElementById('html-code');
    const filesList = document.getElementById('files');
    const previewFrame = document.getElementById('preview-frame');
    
    // Object to store file contents
    const filesContent = {};

    function nameFile() {
        const fileName = prompt("Enter the file name (with extension, e.g., myfile.html):");
        if (fileName) {
            const validExtensions = ['html', 'css', 'js', 'png', 'gif', 'mp4', 'jpeg'];
            const fileExtension = fileName.split('.').pop();
            if (validExtensions.includes(fileExtension.toLowerCase())) {
                // Create a new list item
                const li = document.createElement('li');
                li.textContent = fileName;
                
                // Set up click event to load file content
                li.onclick = function() {
                    loadFileContent(fileName);
                };

                // Store an empty content for the new file
                filesContent[fileName] = '';
                filesList.appendChild(li);
            } else {
                alert('Invalid file extension. Please use one of the following: ' + validExtensions.join(', '));
            }
        }
    }

    function loadFileContent(fileName) {
        // Load the file content into the textarea
        htmlCode.value = filesContent[fileName];
        updatePreview(); // Update the preview
    }

    function updatePreview() {
        const content = htmlCode.value;
        // Update the preview iframe with the current content of the textarea
        previewFrame.srcdoc = content;

        // Save the current content to the currently selected file (if any)
        const selectedFile = [...filesList.children].find(li => li.textContent === htmlCode.value);
        if (selectedFile) {
            filesContent[selectedFile.textContent] = content; // Update content in filesContent
        }
    }
</script>

</body>
</html>
